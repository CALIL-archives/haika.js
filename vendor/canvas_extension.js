// Generated by CoffeeScript 1.3.1

$.extend(fabric.Canvas.prototype, {
  ZOOM_Step: 0.5,
  currentZoom: 1,
  meterRatio: 0.1,
  measureRatio: function() {
    return this.meterRatio / this.currentZoom;
  },
  zoom: function(newScale) {
    var object, _i, _len, _ref;
    _ref = this.getObjects();
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      object = _ref[_i];
      object.setZoom(newScale);
    }
    this.renderAll();
    this.currentZoom = newScale;
    this.trigger("zoom:changed");
    return this;
  },
  zoomIn: function() {
    this.zoom(this.currentZoom * this.ZOOM_Step);
    return this;
  },
  zoomOut: function() {
    this.zoom(this.currentZoom / this.ZOOM_Step);
    return this;
  },
  distanceInMeters: function(dis) {
    return Math.round(this.measureRatio() * dis * 100) / 100;
  },
  distanceInPixels: function(dis) {
    return Math.round(dis / this.measureRatio());
  }
});
