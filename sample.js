// Generated by CoffeeScript 1.8.0
var windowSetting;

windowSetting = {
  navbar_height: function() {
    if ($('#navbar').length > 0) {
      return $('#navbar').height() + 45;
    } else {
      return 0;
    }
  },
  sidebar_width: function() {
    if ($('.sidebar-collapse').length > 0) {
      return $('.sidebar-collapse').width() + 45;
    } else {
      return 0;
    }
  },
  scrollbar_width: $('#vertical-scroller').width(),
  scrollbar_height: $('#horizontal-scroller').height(),
  toolbar_width: $('.toolbar_container').width() + 14,
  property_panel_width: $('.property_panel').width(),
  getWidth: function() {
    return window.innerWidth - this.sidebar_width() - this.toolbar_width - this.scrollbar_width - this.property_panel_width - 20;
  },
  getHeight: function() {
    return window.innerHeight - this.navbar_height() - $('.header').height() - this.scrollbar_height;
  },
  start: function() {
    $('.main_container, .canvas_panel').css('width', this.getWidth());
    $('.main_container').css('margin-left', this.toolbar_width);
    $('#vertical-scroller, #vertical-scroller .dragdealer').css('height', this.getHeight());
    $('.toolbar_container,.property_panel').css('height', this.getHeight() + this.scrollbar_height);
    return $(window).resize((function(_this) {
      return function() {
        haika.canvas.setWidth(_this.getWidth());
        haika.canvas.setHeight(_this.getHeight());
        $('.main_container, .canvas_panel').css('width', _this.getWidth());
        $('#vertical-scroller, #vertical-scroller .dragdealer').css('height', _this.getHeight());
        $('.toolbar_container,.property_panel').css('height', _this.getHeight() + _this.scrollbar_height);
        return haika.render();
      };
    })(this));
  }
};

$(haika).on('haika:render', function() {
  $('#canvas_width').html(haika.canvas.getWidth());
  $('#canvas_height').html(haika.canvas.getHeight());
  $('#canvas_centerX').html(haika.centerX);
  $('#canvas_centerY').html(haika.centerY);
  $('#canvas_bgscale').val(haika.backgroundScaleFactor);
  $('#canvas_bgopacity').val(haika.backgroundOpacity);
  $('#canvas_lon').val(haika.xyLongitude);
  $('#canvas_lat').val(haika.xyLatitude);
  $('#canvas_angle').val(haika.canvas.angle);
  return $('.zoom').html((haika.scaleFactor * 100).toFixed(0) + '%');
});

$(haika).on('haika:initialized', function() {
  return haika.openFromApi(2, {
    succcess: (function(_this) {
      return function() {
        return _this.render();
      };
    })(this),
    error: function(message) {
      return alert(message);
    }
  });
});

$('.fullscreen').click(function() {
  if ($('.haika_container')[0].requestFullScreen) {
    $('.haika_container')[0].requestFullScreen();
  }
  if ($('.haika_container')[0].webkitRequestFullScreen) {
    $('.haika_container')[0].webkitRequestFullScreen();
  }
  if ($('.haika_container')[0].mozRequestFullScreen) {
    return $('.haika_container')[0].mozRequestFullScreen();
  }
});

haika.init({
  canvasId: 'haika_canvas_area',
  width: window.innerWidth,
  height: window.innerHeight
});

setTimeout(function() {
  return haika.render();
}, 100);

$(window).resize((function(_this) {
  return function() {
    haika.canvas.setWidth(window.innerWidth);
    haika.canvas.setHeight(window.innerHeight);
    return haika.render();
  };
})(this));

//# sourceMappingURL=sample.js.map
