// Generated by CoffeeScript 1.8.0
var haikaId;

$(haika).on('haika:render', function() {
  $('#canvas_width').html(haika.canvas.getWidth());
  $('#canvas_height').html(haika.canvas.getHeight());
  $('#canvas_centerX').html(haika.centerX);
  $('#canvas_centerY').html(haika.centerY);
  $('#canvas_bgscale').val(haika.backgroundScaleFactor);
  $('#canvas_bgopacity').val(haika.backgroundOpacity);
  $('#canvas_lon').val(haika.xyLongitude);
  $('#canvas_lat').val(haika.xyLatitude);
  $('#canvas_angle').val(haika.canvas.angle);
  return $('.zoom').html((haika.scaleFactor * 100).toFixed(0) + '%');
});

$('.fullscreen').click(function() {
  if ($('.haika-container')[0].requestFullScreen) {
    $('.haika-container')[0].requestFullScreen();
  }
  if ($('.haika-container')[0].webkitRequestFullScreen) {
    $('.haika-container')[0].webkitRequestFullScreen();
  }
  if ($('.haika-container')[0].mozRequestFullScreen) {
    return $('.haika-container')[0].mozRequestFullScreen();
  }
});

haikaId = location.hash.split('#')[1];

if (!haikaId) {
  alert('HaikaIDを指定して下さい');
} else {
  $(haika).on('haika:initialized', function() {
    return haika.openFromApi(haikaId, {
      success: function() {
        return haika.render();
      },
      error: function(message) {
        return alert(message);
      }
    });
  });
  haika.init({
    divId: 'haika-canvas'
  });
  if (haika.readOnly) {
    haika.event.zoom();
  } else {
    haika.toolbar.init();
    haika.event.init();
    haika.undo.init();
    initScrollBar();
    haika.colorpicker.init();
  }
}

//# sourceMappingURL=sample.js.map
